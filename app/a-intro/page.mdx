import { Callout } from "nextra/components"

# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ß—Ç–æ–±—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–∏ `RTK`, —Å–¥–µ–ª–∞–µ–º –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ / –∞–ª–∏–∞—Å–æ–≤

### –¢–µ–æ—Ä–∏—è

–í —Ñ–∞–π–ª–µ `tsconfig.json` –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `baseUrl` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ
–∫–æ—Ç–æ—Ä–æ–π `TypeScript` –±—É–¥–µ—Ç —Ä–∞–∑—Ä–µ—à–∞—Ç—å –ø—É—Ç–∏ –∫ –º–æ–¥—É–ª—è–º.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è baseUrl:**

- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –ø—É—Ç–µ–π**, –≤–º–µ—Å—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö;
- –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ —É–ø—Ä–æ—â–∞–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è **—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—É—Ç–µ–π –∫ –º–æ–¥—É–ª—è–º**;
- **—á–∏—Ç–∞–µ–º—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥**, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—É—Ç–∏ –∫ –º–æ–¥—É–ª—è–º —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –∏—Ö –º–µ—Å—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

### –ü—Ä–∞–∫—Ç–∏–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `tsconfig.app.json` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `compilerOptions` —Å–≤–æ–π—Å—Ç–≤–∞ `baseUrl` –∏ `paths`:

```json filename="tsconfig.app.json" {3-6}
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
    /*...*/
  },
  "include": ["src"]
}
```

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `vite.config.ts` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–≤–æ–π—Å—Ç–≤–æ [`resolve` —Å –ø–æ–ª–µ–º `alias`](https://vite.dev/config/shared-options#resolve-alias):

```ts filename="vite.config.ts" {1, 8-12}
import path from "path"
import { defineConfig } from "vite"
import react from "@vitejs/plugin-react-swc"

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@/": `${path.resolve(__dirname, "src")}/`,
    },
  },
})
```

–ß—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∏–º–ø–æ—Ä—Ç `path` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `__dirname` –¥–æ–±–∞–≤—å—Ç–µ –≤ `devDependencies` –ø—Ä–æ–µ–∫—Ç–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—é `node`:

```bash filename="Terminal"
pnpm add @types/node -D
```

## –†–æ—É—Ç–∏–Ω–≥ / –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–æ–∏–º –±–∞–∑–æ–≤—ã–π —Ä–æ—É—Ç–∏–Ω–≥ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º [React Router](https://reactrouter.com):

```bash filename="Terminal"
pnpm add react-router
```

<Callout type={"warning"}>
  –í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Declarative mode](https://reactrouter.com/start/declarative/installation)
</Callout>

‚ùó –ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º, –æ–±–µ—Ä–Ω—ë–º –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ `BrowserRouter` –≤ —Ñ–∞–π–ª–µ `main.tsx`

–î–∞–≤–∞–π—Ç–µ —Å—Ä–∞–∑—É –∑–∞–ª–æ–∂–∏–º –±–∞–∑–æ–≤—ã–π —Ä–æ—É—Ç–∏–Ω–≥ –∏ —Å–æ–∑–¥–∞–¥–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏
–¥–æ–±–∞–≤–∏–º –∏—Ö –≤ —Ä–æ—É—Ç–∏–Ω–≥:

- –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`MainPage.tsx`),
- —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏ (`PlaylistsPage.tsx`),
- —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç—Ä–µ–∫–∞–º–∏ (`TracksPage.tsx`),
- —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è (`ProfilePage.tsx`),
- —Å—Ç—Ä–∞–Ω–∏—Ü—É 404 (`PageNotFound.tsx`)

<Callout type={"warning"}>
  –í –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç `RTK`

- [Structure Files as Feature Folders with Single-File
  Logic](https://redux.js.org/style-guide/#structure-files-as-feature-folders-with-single-file-logic)

- –°–µ–≥–º–µ–Ω—Ç—ã –≤–æ–∑—å–º–µ–º –∏–∑ [FSD
  segments](https://feature-sliced.github.io/documentation/docs/get-started/overview#segments)

</Callout>

- `MainPage.tsx`

```tsx filename="src/app/MainPage.tsx"
export const MainPage = () => {
  return (
    <div>
      <h1>Main page</h1>
    </div>
  )
}
```

- `PlaylistsPage.tsx`

```tsx filename="src/features/playlists/ui/PlaylistsPage/PlaylistsPage.tsx"
export const PlaylistsPage = () => {
  return (
    <div>
      <h1>Playlists page</h1>
    </div>
  )
}
```

- `TracksPage.tsx`

```tsx filename="src/features/tracks/ui/TracksPage/TracksPage.tsx"
export const TracksPage = () => {
  return (
    <div>
      <h1>Tracks page</h1>
    </div>
  )
}
```

- `ProfilePage.tsx`

```tsx filename="src/features/auth/ui/ProfilePage/ProfilePage.tsx"
export const ProfilePage = () => {
  return (
    <div>
      <h1>Profile page</h1>
    </div>
  )
}
```

- `PageNotFound.tsx`

```tsx filename="src/common/components/PageNotFound/PageNotFound.tsx"
import s from "./PageNotFound.module.css"

export const PageNotFound = () => {
  return (
    <>
      <h1 className={s.title}>404</h1>
      <h2 className={s.subtitle}>page not found</h2>
    </>
  )
}
```

- `PageNotFound.module.css`

```css filename="src/common/components/PageNotFound/PageNotFound.module.css"
.title {
  text-align: center;
  font-size: 250px;
  margin: 0;
}

.subtitle {
  text-align: center;
  font-size: 50px;
  margin: 0;
  text-transform: uppercase;
}
```

- `Routing.tsx`

```tsx filename="src/common/routing/Routing.tsx"
export const Path = {
  Main: "/",
  Playlists: "/playlists",
  Tracks: "/tracks",
  Profile: "/profile",
  NotFound: "*",
} as const

export const Routing = () => (
  <Routes>
    <Route path={Path.Main} element={<MainPage />} />
    <Route path={Path.Playlists} element={<PlaylistsPage />} />
    <Route path={Path.Tracks} element={<TracksPage />} />
    <Route path={Path.Profile} element={<ProfilePage />} />
    <Route path={Path.NotFound} element={<PageNotFound />} />
  </Routes>
)
```

–ò –¥–æ–±–∞–≤–∏–º `Routing.tsx` –≤ `App.tsx`

```tsx
export const App = () => {
  return (
    <>
      <Routing />
    </>
  )
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞ –≤ `URL` –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ üöÄ

## Header

–†–µ–∞–ª–∏–∑—É–µ–º `Header` –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

```tsx filename="src/common/components/Header/Header.tsx"
import { NavLink } from "react-router"
import { Path } from "@/common/routing/Routing"
import s from "./Header.module.css"

const navItems = [
  { to: Path.Main, label: "Main" },
  { to: Path.Playlists, label: "Playlists" },
  { to: Path.Tracks, label: "Tracks" },
  { to: Path.Profile, label: "Profile" },
]

export const Header = () => {
  return (
    <header className={s.container}>
      <nav>
        <ul className={s.list}>
          {navItems.map((item) => (
            <li key={item.to}>
              <NavLink to={item.to} className={({ isActive }) => `link ${isActive ? s.activeLink : ""}`}>
                {item.label}
              </NavLink>
            </li>
          ))}
        </ul>
      </nav>
    </header>
  )
}
```

```css filename="src/common/components/Header/Header.module.css"
.container {
  border-bottom: 1px solid black;
  padding-left: 100px;
}

.list {
  display: flex;
  gap: 40px;
}

.activeLink {
  font-weight: bold;
}
```

–î–æ–±–∞–≤–∏–º `Header.tsx` –≤ `App.tsx`

```tsx filename="App.tsx"
export const App = () => {
  return (
    <>
      <Header />
      <Routing />
    </>
  )
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º —É–¥–æ–±–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –Ω–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é üöÄ

## Layout

–ß—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–Ω—Ç –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–µ –ø—Ä–∏–∂–∏–º–∞–ª—Å—è –∫ –ª–µ–≤–æ–º—É –±–æ–∫—É, —Å–æ–∑–¥–∞–¥–∏–º –¥–ª—è –Ω–µ–≥–æ –±–∞–∑–æ–≤—É—é –æ–±—ë—Ä—Ç–∫—É.

```css filename="src/app/App.module.css"
.layout {
  max-width: 1186px;
  margin: 0 auto 200px;
}
```

```tsx filename="src/app/App.tsx" {5}
export const App = () => {
  return (
    <>
      <Header />
      <div className={s.layout}>
        <Routing />
      </div>
    </>
  )
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ç–µ–Ω—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –±—É–¥–µ—Ç —Ä–∞–∑–º–µ—â–µ–Ω –≤ `layout` üöÄ
