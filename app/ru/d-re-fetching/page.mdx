import { Callout } from "nextra/components"

# 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

## Automated Re-fetching

–ü–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ `UI` –Ω–µ –≤–∏–¥–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–†–µ—Ñ–µ—Ç—á–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –≤ `RTK query` —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ **—Å–∏—Å—Ç–µ–º—ã —Ç–µ–≥–æ–≤**:

<Callout type={'info'}>
  "Tag" -- —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –æ–±—ä–µ–∫—Ç, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∏–º–µ–Ω–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏ –∫—ç—à–∞.
  –ü—Ä–∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à-—Ç–µ–≥–∞ `RTK Query` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —á–µ—Ä–µ–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö —ç—Ç–∏–º
  —Ç–µ–≥–æ–º:

- [Automated Re-fetching](https://redux-toolkit.js.org/rtk-query/usage/automated-refetching);
- [Advanced Mutations with
  Revalidation](https://redux-toolkit.js.org/rtk-query/usage/mutations#advanced-mutations-with-revalidation).

</Callout>

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ–≥–æ–≤ –¥–æ–±–∞–≤—å—Ç–µ:

1. –°–≤–æ–π—Å—Ç–≤–æ `tagTypes` –≤ `API-slice`, –æ–±—ä—è–≤–ª—è—é—â–µ–µ –º–∞—Å—Å–∏–≤ –∏–º–µ–Ω —Ç–µ–≥–æ–≤ –¥–ª—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ `"Playlist"`;
2. –ú–∞—Å—Å–∏–≤ `providesTags` –≤ `query`-—ç–Ω–¥–ø–æ–∏–Ω—Ç–µ, –ø–µ—Ä–µ—á–∏—Å–ª—è—é—â–∏–π –Ω–∞–±–æ—Ä —Ç–µ–≥–æ–≤, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –ø–æ–ª—É—á–∞–µ–º—ã–µ –≤ —ç—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã–µ;
3. –ú–∞—Å—Å–∏–≤ `invalidatesTags` –≤ `mutation`-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö, –ø–µ—Ä–µ—á–∏—Å–ª—è—é—â–∏–π –Ω–∞–±–æ—Ä —Ç–µ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
   —ç—Ç–∏—Ö –º—É—Ç–∞—Ü–∏–π:

```ts filename="playlistsApi.ts" {3, 7, 11, 15, 19}
export const playlistsApi = createApi({
  /*...*/
  tagTypes: ["Playlist"],
  endpoints: (build) => ({
    fetchPlaylists: build.query<PlaylistsResponse, void>({
      query: () => ({ url: `playlists` }),
      providesTags: ["Playlist"],
    }),
    createPlaylist: build.mutation<{ data: PlaylistData }, CreatePlaylistArgs>({
      query: (body) => ({ url: "playlists", method: "post", body }),
      invalidatesTags: ["Playlist"],
    }),
    deletePlaylist: build.mutation<void, string>({
      query: (playlistId) => ({ url: `playlists/${playlistId}`, method: "delete" }),
      invalidatesTags: ["Playlist"],
    }),
    updatePlaylist: build.mutation<void, { playlistId: string; body: UpdatePlaylistArgs }>({
      query: ({ playlistId, body }) => ({ url: `playlists/${playlistId}`, method: "put", body }),
      invalidatesTags: ["Playlist"],
    }),
  }),
})
```

–û—Ç–∫—Ä–æ–π—Ç–µ `network` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `CRUD`-–æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏. –°–ø–µ—Ä–≤–∞ –ø—Ä–∏
–º—É—Ç–∞—Ü–∏—è—Ö –∏–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–∞–º—É –º—É—Ç–∞—Ü–∏—é, –∞ –∑–∞—Ç–µ–º –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ø—Ä–∏ –º—É—Ç–∞—Ü–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã üöÄ
